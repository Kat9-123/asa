!J .main
#sublib
#sublib/Control

THREE -> 3

TWO -> 2
a -> 'Y'
LINEBREAK -> '\n'

i -> 0
p -> 0
@Mac m_copy? {
    p = 0

    !While::Neq p TWO {
        m_copy? i

        !While::Ge i ZERO { ;::Ge i ZERO {
            !If::Neq SNEG ONE {
                !IO -= a
            }
            !Dec i
        }
        !IO -= LINEBREAK
        !Inc p
    }
}

.main -> {
    !If::Eq SNEG SNEG {

        !Mac (!CopyLit 3)   ; 'curried' macro
    }
    !IO -= LINEBREAK
    !If::Ge ZERO SNEG {

        !Mac (!CopyLit 2)   ; 'curried' macro
    }

    !Halt
}