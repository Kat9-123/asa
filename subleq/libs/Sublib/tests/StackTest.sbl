!J .main

#sublib
#sublib/Stack
#sublib/Assert



stack -> !Stack::Create 64

a -> 0x13
b -> 349
c -> 0x8000
d -> -490
e -> 940

B -> 'B'

result -> 0

.main ->
    !Stack::Push stack a
    !Stack::Push stack b
    !Stack::Push stack c
    !Stack::Push stack d
    !Stack::Push stack e


    !Stack::Pop stack result
    !Assert::Eq e result


    !Stack::Pop stack result
    !Assert::Eq d result

    !Stack::Pop stack result
    !Assert::Eq c result


    !Stack::Pop stack result
    !Assert::Eq b result

    !Stack::PushLit stack 'A'
    !Stack::PushLit stack 'B'

    !Stack::Pop stack result
    !Assert::EqToLit result 'B'

    !Stack::Pop stack result
    !Assert::EqToLit result 'A'

    !Stack::Pop stack _
    !Stack::Pop stack result
    !Assert::EqToLit result 0xBEEF



    !Halt